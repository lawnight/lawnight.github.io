
# xml处理

常见的库为`xml`和`lxml`,`lxml`包含更多的功能，并且可以解析lxml和xml。

- 读取解析xml文件。并得到root element
```python
from lxml import etree
root = etree.fromstring('')
#ElementTree
tree = etree.parse('filePath')
root = tree.getroot()
```

## element

通过getchildren方法，或者直接迭代，得到子element。

```python
for child in root.getchildren():
    pass
for child in root:
    pass
```

ele.tag 得到标签名
ele.attrib['name']  得到属性

```python
for child in root.getchildren():
    if child.tag == 'struct':
        child.get('desc')
```


# html处理

```python
from lxml import etree
html = etree.HTML(data.text)
html.xpath('xpath')
```


# json处理

```python
import json
string = json.dumps(map)
json.loads('')
json.load(file)
```


# pandas

## DataFrame

### 构建

- 等长列表的字典

```python
# 以a,b为列 创建DataFrame
m = {'a':[1,2,3],'b':[2,3,4]}
p = pd.DataFrame(m)
# 以a,b为index 创建DataFrame
pd.DataFrame.from_dict(result,orient='index')
```
- 嵌套字典

```python
#外侧key 为列
m = {'a':{'1':2},'b':{'1':2}}
pd.DataFrame(m)
```


### groupby

```python
df.groupby([8,12]).size().unstack(fill_value=0).to_csv('dd.csv')
```
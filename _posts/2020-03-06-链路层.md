---
title: 链路层
categories: network
---
TCP/IP支持很多不同的链路层。我们只关注常见的几个。

# `IEEE 802`标准
`IEEE 802`：是为了家庭和企业网络的应用；`IEEE 802.16 (WiMAX)`：政府应用，`IEEE 802.21`：media-independent handoffs in cellular networks。

802最广泛的是`802.3`（essentially Ethernet）和`802.11`（WLAN/Wi-Fi）

`Ethernet II`

**IEEE 802.3 frame format**:
![1](/assets/link1.png)

# vlan
`802.1q`标准，virtual LANs。将大局域网拆分成更小的lan。

电信的网络和电视就分属于不同的vlanId。看电视和上网需要插入对应的lan口上，如果家里拉线，只拉了一根线，那么只能上网，或者只能看电视。用支持vlan的交换机，就能够单线复用了。



# 桥接和交换机

交换机本质上就是高性能的桥接。交换机和网桥可以组成大的局域网。
![](/assets/link2.png)

交换机会对每个端口自动映射对应的mac地址，存储在filtering databases。当第一次启动，database是空的时候，交换机会将数据包拷贝多份，发送到每个交换机端口。


多个交换机并且有循环的links。可能造成广播风暴（broadcast storm）。STP协议可以解决这个问题。
![](/assets/link3.png)

路由器实现了网络层，比交换机拥有更多的功能。如下图，不过这是理想情况下，实际上路由器为了方便管理，一般都有web界面，实际上是实现了应用层的。

![](/assets/link4.png)

 1. 单线复用、单线多用和vlan的理解：https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=309204&page=1#pid2503294


# PPP

Point-to-Point Protocol.是一系列协议，常用来在串行线路（serial links）上发送IP数据包。

## ppp over Ethernet。